<div class="project-list">
  {% for project in include.source %}
  <a href="{{ project.article_link }}" style="text-decoration: none; color: inherit; display: block;">
    <div class="project" style="position: relative; display: flex; flex-direction: column; padding: 20px; border: 1px solid #ccc; margin-bottom: 20px; cursor: pointer;">

      <!-- 프로젝트 제목 및 기본 정보 -->
      <div style="display: flex; align-items: center; justify-content: space-between;">
        <div style="flex: 1; padding-right: 20px;">
          <h6 class="title" style="font-size: 1.5em; margin-bottom: 10px;">{{ project.title }}</h6>
          <p class="authors" style="margin-bottom: 10px;">
            {% for dev_tool in project.dev_tool %}
              <strong>{{ dev_tool }}</strong>{% if forloop.last == false %}, {% endif %}
            {% endfor %}
          </p>
          <p>{{ project.description }}</p>
        </div>

        <!-- 프로젝트 이미지 -->
        {% if project.image %}
        <div style="width: 200px; height: auto; border: 1px solid #000; text-align: center; display: flex; align-items: center; justify-content: center;">
          <img src="{{ project.image }}" alt="Project Image" style="max-width: 100%; max-height: 100%;">
        </div>
        {% endif %}
      </div>

      <!-- Abstract (펼치기/숨기기) -->
      <div style="margin-top: 10px;">
        <a href="javascript:void(0);" onclick="toggleAbstract({{ forloop.index }})" class="abs-button" style="text-decoration: none; color: #027bff;">Abstract</a>
        <div id="abstract-{{ forloop.index }}" style="display: none; margin-top: 10px;">
          <p>{{ project.abstract }}</p>
        </div>
        &nbsp;
        {% if project.github %}
          <a href="{{ project.github }}" class="pdf-button" style="text-decoration: none; color: #027bff;">Github</a>
        {% endif %}
        &nbsp;
        {% if project.pdf %}
          <a href="{{ project.pdf }}" class="pdf-button" style="text-decoration: none; color: #027bff;">PDF</a>
        {% endif %}
      </div>

      <!-- 연도 위치 조정 -->
      <div class="year" style="position: absolute; bottom: 10px; right: 20px; font-size: 30px; font-weight: bold; color: rgba(0, 0, 0, 0.05); pointer-events: none;">
        {{ project.year }}
      </div>

    </div>
  </a> <!-- 올바르게 닫힌 <a> 태그 -->
  {% endfor %}
</div>

<script>
function toggleAbstract(index) {
  var abstract = document.getElementById('abstract-' + index);
  if (abstract.style.display === 'none') {
    abstract.style.display = 'block';
  } else {
    abstract.style.display = 'none';
  }
}
</script>